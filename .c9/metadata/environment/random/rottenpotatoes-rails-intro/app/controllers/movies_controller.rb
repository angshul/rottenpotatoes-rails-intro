{"filter":false,"title":"movies_controller.rb","tooltip":"/random/rottenpotatoes-rails-intro/app/controllers/movies_controller.rb","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":45,"column":0},"action":"remove","lines":["class MoviesController < ApplicationController","","  def movie_params","    params.require(:movie).permit(:title, :rating, :description, :release_date)","  end","","  def show","    id = params[:id] # retrieve movie ID from URI route","    @movie = Movie.find(id) # look up movie by unique ID","    # will render app/views/movies/show.<extension> by default","  end","","  def index","    @movies = Movie.all","  end","","  def new","    # default: render 'new' template","  end","","  def create","    @movie = Movie.create!(movie_params)","    flash[:notice] = \"#{@movie.title} was successfully created.\"","    redirect_to movies_path","  end","","  def edit","    @movie = Movie.find params[:id]","  end","","  def update","    @movie = Movie.find params[:id]","    @movie.update_attributes!(movie_params)","    flash[:notice] = \"#{@movie.title} was successfully updated.\"","    redirect_to movie_path(@movie)","  end","","  def destroy","    @movie = Movie.find(params[:id])","    @movie.destroy","    flash[:notice] = \"Movie '#{@movie.title}' deleted.\"","    redirect_to movies_path","  end","","end",""],"id":2},{"start":{"row":0,"column":0},"end":{"row":51,"column":0},"action":"insert","lines":["class MoviesController < ApplicationController","","  def movie_params","    params.require(:movie).permit(:title, :rating, :description, :release_date)","  end","","  def show","    id = params[:id] # retrieve movie ID from URI route","    @movie = Movie.find(id) # look up movie by unique ID","    # will render app/views/movies/show.<extension> by default","  end","","  def index","    @movies = Movie.order(params[:sort])","    @all_ratings = Movie.rate.uniq","    @rate_checking = params[:ratings]","    if @rate_checking.class != NilClass","      @all_keys = @rate_checking.keys","      @movies = Movie.all.select { |m| @all_keys.include?m.rating}","    end","  end","","  def new","    # default: render 'new' template","  end","","  def create","    @movie = Movie.create!(movie_params)","    flash[:notice] = \"#{@movie.title} was successfully created.\"","    redirect_to movies_path","  end","","  def edit","    @movie = Movie.find params[:id]","  end","","  def update","    @movie = Movie.find params[:id]","    @movie.update_attributes!(movie_params)","    flash[:notice] = \"#{@movie.title} was successfully updated.\"","    redirect_to movie_path(@movie)","  end","","  def destroy","    @movie = Movie.find(params[:id])","    @movie.destroy","    flash[:notice] = \"Movie '#{@movie.title}' deleted.\"","    redirect_to movies_path","  end","","end",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":17,"column":37},"end":{"row":17,"column":37},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1537917411438,"hash":"33e5adf3b172ddc9902e77011e325fa574e21744"}